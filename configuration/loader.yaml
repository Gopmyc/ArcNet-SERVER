# Path where all subloader scripts are located
SUBLOADERS_PATH:  "srcs/core/loader/subloaders/"

# Tables to store loaded resources grouped by type
RESSOURCES:       {}

# Defines the order in which resource groups should be loaded
LOAD_PRIORITY:
#  - "CLASSES"
  - "CORE"
#  - "MODULES"

LIBRARIES:
  RESSOURCES:   "srcs/core/loader/libraries/ressources.lua"
  FINDER:       "srcs/core/loader/libraries/finder.lua"
  ENVIRONEMENT:

RULES_FILES:
  1:
    FIELD:  ROOT
    TYPE:   table
  2:
    FIELD:  KEY
    TYPE:   string
  3:
    FIELD:  PATH
    TYPE:   string
  4:
    FIELD:  ARGS
    TYPE:   table
  5:
    FIELD:  IS_BINARY
    TYPE:   bool
  6:
    FIELD:  LOAD_SUBFOLDERS
    TYPE:   bool
  7:
    FIELD:  SIDES
    TYPE:   table
  8:
    FIELD:  SIDES.CLIENT
    TYPE:   bool
  9:
    FIELD:  SIDES.SERVER
    TYPE:   bool

SAFE_GLOBALS:
  constants:
    SERVER:   true
    CLIENT:   true
    _VERSION: false

  functions:
    assert:     true
    error:      true
    ipairs:     true
    next:       true
    pairs:      true
    pcall:      true
    select:     true
    tonumber:   true
    tostring:   true
    type:       true
    unpack:     true
    xpcall:     true

  libraries:
    math:       full
    string:     full
    table:
      insert:   true
      remove:   true
      sort:     true
      concat:   true

  namespaces:
    ENV:
      exposed:  true
      readonly: false

  execution:
    load:       false
    loadstring: false
    dofile:     false
    loadfile:   false
    setfenv:    false
    getfenv:    false

  metatable:
    getmetatable:      false
    setmetatable:      false
    allow_string_meta: false
    allow_table_meta:  false

  fallback:
    global:           false
    error_on_missing: true
